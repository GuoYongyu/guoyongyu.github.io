<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo-32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo-16x16.ico">
  <link rel="mask-icon" href="/images/logo.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"guoyongyu.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>

    <meta name="description" content="对论文 Blitz-SLAM: A Semantic SLAM in Dynamic Environments 的阅读总结。Blitz-SLAM 使用 BlitzNet 提取目标检测框和掩码，用于剔除动态物体，实现语义 SLAM。">
<meta property="og:type" content="article">
<meta property="og:title" content="Blitz-SLAM">
<meta property="og:url" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/index.html">
<meta property="og:site_name" content="The Blog of Star Rain">
<meta property="og:description" content="对论文 Blitz-SLAM: A Semantic SLAM in Dynamic Environments 的阅读总结。Blitz-SLAM 使用 BlitzNet 提取目标检测框和掩码，用于剔除动态物体，实现语义 SLAM。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-1.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-2.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-3.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Algorithm-1.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-4.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Algorithm-2.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-5.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-6.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-7.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Algorithm-3.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-8.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-9.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Algorithm-4.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Table-1.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Table-2.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Table-3.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-10.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Table-4.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-11.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-12.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-13.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-14.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Table-5.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-15.png">
<meta property="og:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-16.png">
<meta property="article:published_time" content="2022-10-31T16:00:00.000Z">
<meta property="article:modified_time" content="2022-11-17T13:30:12.318Z">
<meta property="article:author" content="Star Rain">
<meta property="article:tag" content="Semantic SLAM">
<meta property="article:tag" content="Paper Note">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://guoyongyu.github.io/papernote/Blitz-SLAM/Figure-1.png">


<link rel="canonical" href="https://guoyongyu.github.io/papernote/Blitz-SLAM/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://guoyongyu.github.io/papernote/Blitz-SLAM/","path":"papernote/Blitz-SLAM/","title":"Blitz-SLAM"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Blitz-SLAM | The Blog of Star Rain</title>
  




<link rel="dns-prefetch" href="https://waline.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">The Blog of Star Rain</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-papernote"><a href="/papernote/" rel="section"><i class="fa fa-bookmark fa-fw"></i>论文笔记</a></li><li class="menu-item menu-item-summary"><a href="/summary/" rel="section"><i class="fa fa-file-pen fa-fw"></i>知识总结</a></li><li class="menu-item menu-item-collection"><a href="/collection/" rel="section"><i class="fa fa-archive fa-fw"></i>收集</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AE%BA%E6%96%87%E6%83%85%E5%86%B5"><span class="nav-number">1.</span> <span class="nav-text">论文情况</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Introduction"><span class="nav-number">2.</span> <span class="nav-text">1  Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-System-Description"><span class="nav-number">3.</span> <span class="nav-text">2  System Description</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-Overview-of-Blitz-SLAM"><span class="nav-number">3.1.</span> <span class="nav-text">2.1  Overview of Blitz-SLAM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-Depth-Region-Segmentation"><span class="nav-number">3.2.</span> <span class="nav-text">2.2  Depth Region Segmentation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-Removal-of-Depth-Unstable-Regions"><span class="nav-number">3.3.</span> <span class="nav-text">2.3  Removal of Depth Unstable Regions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-Depth-Mask"><span class="nav-number">3.4.</span> <span class="nav-text">2.4  Depth Mask</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-Judgement-of-Interaction-between-Moving-People-and-Movable-Object"><span class="nav-number">3.5.</span> <span class="nav-text">2.5  Judgement of Interaction between Moving People and Movable Object</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-Removal-of-the-Residual-Information-of-Moving-Objects"><span class="nav-number">3.6.</span> <span class="nav-text">2.6  Removal of the Residual Information of Moving Objects</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-7-Location-of-the-Static-Matching-Points"><span class="nav-number">3.7.</span> <span class="nav-text">2.7  Location of the Static Matching Points</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Experimental-Results"><span class="nav-number">4.</span> <span class="nav-text">3  Experimental Results</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-Evaluation-of-Camera-Localization"><span class="nav-number">4.1.</span> <span class="nav-text">3.1  Evaluation of Camera Localization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-Evaluation-of-the-Point-Cloud-Map"><span class="nav-number">4.2.</span> <span class="nav-text">3.2  Evaluation of the Point Cloud Map</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-Evaluation-of-Processing-Time"><span class="nav-number">4.3.</span> <span class="nav-text">3.3  Evaluation of Processing Time</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-Evaluation-in-the-Real-World-Environment"><span class="nav-number">4.4.</span> <span class="nav-text">3.4  Evaluation in the Real-World Environment</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-number">5.</span> <span class="nav-text">参考</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Star Rain</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://guoyongyu.github.io/papernote/Blitz-SLAM/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Star Rain">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="The Blog of Star Rain">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Blitz-SLAM | The Blog of Star Rain">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Blitz-SLAM
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-11-01 00:00:00" itemprop="dateCreated datePublished" datetime="2022-11-01T00:00:00+08:00">2022-11-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-11-17 21:30:12" itemprop="dateModified" datetime="2022-11-17T21:30:12+08:00">2022-11-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Paper-Note/" itemprop="url" rel="index"><span itemprop="name">Paper Note</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline: </span>
  
    <a title="waline" href="/papernote/Blitz-SLAM/#waline" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" data-path="/papernote/Blitz-SLAM/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>对论文 Blitz-SLAM: A Semantic SLAM in Dynamic Environments 的阅读总结。Blitz-SLAM 使用 BlitzNet 提取目标检测框和掩码，用于剔除动态物体，实现语义 SLAM。</p>
<span id="more"></span>
<center><b><font size="9">Blitz-SLAM</font></b></center>

<h1 id="论文情况"><a href="#论文情况" class="headerlink" title="论文情况"></a>论文情况</h1><ul>
<li>标题：Blitz-SLAM: A Semantic SLAM in Dynamic Environments</li>
<li>作者：Yingchun Fan, Qichi Zhang, Yuliang Tang, Shaofen Liu, Hong Han</li>
<li>期刊：Pattern Recognition 2022</li>
<li>源码：未开源</li>
</ul>
<h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1  Introduction"></a>1  Introduction</h1><p>现存的多数 SLAM：</p>
<ul>
<li>假设：静态的环境。</li>
<li>问题：静态环境假设提取的特征点应出现在静态物体上，若场景中存在动态物体，则特征点可能会提取在这些物体上。</li>
<li>解决：使用 RANSAC 在静态或低动态环境中去除匹配失败的点。然而无法保证在高动态环境下也能去除匹配失败点。</li>
</ul>
<p>SLAM + Deep Learning：</p>
<ul>
<li>动机：目标检测和目标分割的成熟。</li>
<li>方法：将预先定义的运动物体（如人、汽车等）的语义信息与空间几何信息相结合，去除运动物体的负面影响。</li>
<li>问题：目前的语义分割方法所提供的物体原始掩码不能完全覆盖移动的物体。</li>
</ul>
<p>本文研究：</p>
<ul>
<li>成果：提出工作在室内动态环境下的语义 SLAM —— Blitz-SLAM。</li>
<li>特点：<ul>
<li>使用 ORB-SLAM2 的前端移除动态物体。</li>
<li>使用 BlitzNet[1] 获取物体的语义信息。BlitzNet 可以获取物体的 bounding box 和 mask。运动物体的边界框将图像分为动态区域和静态区域；使用深度图的几何信息矫正掩码，使其能更完整的覆盖动态物体，且能将局部点云的噪声块移除。</li>
</ul>
</li>
</ul>
<p>本文贡献：</p>
<ol>
<li>提出通过结合原始掩码和物体深度信息的掩码矫正方法；</li>
<li>提出在构建点云地图时，约束运动物体产生的噪声块的方法；</li>
<li>提出解决运动物体多次出现在全局点云地图中的方法。</li>
</ol>
<h1 id="2-System-Description"><a href="#2-System-Description" class="headerlink" title="2  System Description"></a>2  System Description</h1><h2 id="2-1-Overview-of-Blitz-SLAM"><a href="#2-1-Overview-of-Blitz-SLAM" class="headerlink" title="2.1  Overview of Blitz-SLAM"></a>2.1  Overview of Blitz-SLAM</h2><center>
    <img src="/papernote/Blitz-SLAM/Figure-1.png">
</center>

<p>RGB 图像先被输入 BlitzNet 中，同时获取到环境中物体的边界框和掩码。</p>
<ul>
<li>BlitzNet 使用 ResNet-50 作为 backbone，并在 PASCAL VOC 数据集上得到训练，能够分割和检测 20 个类别（如人、家具）的物体。</li>
</ul>
<p>根据环境中物体的状态，可以分为三类：</p>
<ul>
<li>运动中物体（moving objects）：如行走中的人。物体不仅直接影响相机位姿估计，还会影响建图。</li>
<li>静态物体（static objects）：如桌子、镜子等。主要以静态形式出现在环境中，并且不会被频繁移动。</li>
<li>可运动物体（movable objects）：如椅子、书等。可运动、也可静止的物体。</li>
</ul>
<p>由于 BlitzNet 获得的原始物体掩码不完整，因此物体所在区域的深度信息作用于原始掩码获取矫正掩码，使得能完全覆盖物体区域。如 Fig.1 中黄色箭头，通过移除动态物体产生的噪声块，可以得到局部点云。</p>
<p>在处理相机定位时，通过 moving objects 的边界框可以讲图像分为环境区域和潜在动态区域。利用环境区域的匹配点构造对极约束，分类潜在动态区域内的动态和静态匹配点。之后，静态匹配点用于相机定位，流程如 Fig.1 中蓝色箭头。</p>
<p>Fig.1 中青色箭头表示构建全局点云地图，本质是将每组关键帧对应的局部点云合并（非简单加和，只是一种抽象表达）：</p>
<script type="math/tex; mode=display">
P_E = \sum_{i=1}^n (R_i P_i + t_i)
\tag{1}</script><p>$P_i$ 表示局部点云，$P_E$ 表示全局点云，旋转 $R_i$ 和平移 $t_i$ 由相机在世界坐标系下的位姿决定。取第一组关键帧的相机坐标系为世界坐标系。</p>
<p>全局点云地图的准确性取决于：</p>
<ul>
<li>相机定位精度；</li>
<li>局部点云中噪声块（动态物体）的去除；</li>
<li>相机轨迹的完整性。</li>
</ul>
<h2 id="2-2-Depth-Region-Segmentation"><a href="#2-2-Depth-Region-Segmentation" class="headerlink" title="2.2  Depth Region Segmentation"></a>2.2  Depth Region Segmentation</h2><p>由于深度相机的缺陷，深度图像的一些区域会丢失深度。当物体表面非常光滑时，物体的深度信息也会严重丢失。</p>
<p>基于假设 [2]：场景中的物体（尤其人工物体）很大程度上是凸的（convex），因此在深度图的非连续区域放置边缘点。深度图分割方法则如下：</p>
<ul>
<li><p>使用 $2 \times 2$ 的窗口遍历深度图，用 (2) 式记录下此窗口的深度，其中 $(u,v)$ 表示像素坐标：</p>
<script type="math/tex; mode=display">
  D_{block} = d (u : u + 1, v : v + 1)
  \tag{2}</script></li>
<li><p>边缘点可以通过 (3) 式获取，其中 $\tau_1 (=500(0.1\mathrm{m}))$ 表示阈值，$Edge$ 表示边缘点集合：</p>
<script type="math/tex; mode=display">
  \begin{cases}
  \text{if}\ \max (D_{block}) - \min (D_{block}) > \tau_1, &(u,v) \in Edge \\
  \text{else}, &(u,v) \notin Edge
  \end{cases}
  \tag{3}</script></li>
</ul>
<h2 id="2-3-Removal-of-Depth-Unstable-Regions"><a href="#2-3-Removal-of-Depth-Unstable-Regions" class="headerlink" title="2.3  Removal of Depth Unstable Regions"></a>2.3  Removal of Depth Unstable Regions</h2><p>深度相机的精度随物体距相机距离的增大而减小。为观测点云上深度不稳定区域的影响，使用 TUM 数据集中的一些 RGB 和 深度图，生成的局部点云，如 Fig.2。</p>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-2.png">
</center>

<ul>
<li>从正面看，远处木板的点云比桌面的点云占据更大的区域。</li>
<li>从上看，远处木板的点云具有严重的层次性，而桌面的点云则较为紧凑。</li>
<li>当多个局部点云合并时，远处平板的分层现象会更加严重，直接影响全局点云图的视觉效果。</li>
</ul>
<p>因此，为了点云地图的质量，需要去除深度不稳定区域：当深度图中点的深度值大于 $3000(0.6\mathrm{m})$ 时，设置点的深度值为 $0$。</p>
<h2 id="2-4-Depth-Mask"><a href="#2-4-Depth-Mask" class="headerlink" title="2.4  Depth Mask"></a>2.4  Depth Mask</h2><p>BlitzNet 获取的原始掩码存在两个问题：</p>
<ul>
<li>掩码无法完全覆盖物体；</li>
<li>被掩码覆盖的物体可能包含环境和其他物体的信息。</li>
</ul>
<p>因此直接使用原始掩码构建的语义点云地图存在两个问题：</p>
<ul>
<li>moving objects 的信息会渗入环境，产生噪声块；</li>
<li>如果掩码超出了 static objects 的区域，部分语义信息会被映射到其他环境点。</li>
</ul>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-3.png">
</center>

<p>如 Fig.3，转椅的原始掩码（红色）覆盖了部分坐着的人，而右边（橙色）则没有完全覆盖椅子。将两把椅子原始掩码提供的语义信息映射到当前点云上，可以发现一些环境点也被染成了红色。</p>
<p>使用原始掩码 $M^o$ 覆盖区域的深度信息改进掩码，得到深度掩码 $M^d$：</p>
<ul>
<li><p>首先，物体的原始源码用于给图像中的物体打标签，将所有的物体的记为 $\{ Obj(1), \dots, Obj(k) \}$；</p>
</li>
<li><p>然后，计数原始掩码 $M^o_{Obj(i)}$ 区域内的深度信息，移除深度值为 $0$ 的点或 outliers，得到深度值集合 $d^o_{Obj(i)}$。用 (4) 式，找到深度图中和 $Obj(i)$ 有相同深度范围的像素：</p>
<script type="math/tex; mode=display">
  \begin{cases}
  \text{if}\ L_d - \tau_2 \le d(u,v) \le U_d + \tau_2, &(u,v) \in M^s_{Obj(i)} \\
  \text{else}, &(u,v) \notin M^s_{Obj(i)}
  \end{cases}
  \tag{4}</script><p>  $U_d$ 和 $L_d$ 为 $d^o_{Obj(i)}$ 的最大和最小值，$d(u,v)$ 表示像素 $(u.v)$ 的深度值，$M^s_{obj(i)}$ 表示和 $Obj(i)$ 有相同深度范围的区域。为提高系统鲁棒，扩展 $Obj(i)$ 区域的深度范围 $2 \times \tau_2$，其中 $\tau_2 = 500(0.1\mathrm{m})$。</p>
<p>  $M^s_{obj(i)}$ 可能包含多个有相同深度范围的图像块 $M_i$：</p>
<script type="math/tex; mode=display">
  M^s_{obj(i)} = \bigcup_{i=1}^m M_i
  \tag{5}</script></li>
<li><p>最后，构建语义约束来保存属于深度掩码 $M^d_{obj(i)}$ 的图像块：</p>
<script type="math/tex; mode=display">
  \begin{cases}
  \text{if}\ \frac{P_{M_i}^S}{P_{M_i}} \ge \tau_3, &M_i \in M^d_{obj(i)} \\
  \text{else}, &M_i \notin M^d_{obj(i)}
  \end{cases}
  \tag{6}</script><p>  $P_{M_i}^S$ 表示 $M_i$ 中有 $Obj(i)$ 语义信息的像素的数量，$P_{M_i}$ 为 $M_i$ 中总的像素数量，$\tau_3(=0.25)$ 为为阈值。</p>
</li>
</ul>
<p>深度掩码获取算法如下：</p>
<center>
    <img src="/papernote/Blitz-SLAM/Algorithm-1.png">
</center>

<p>矫正掩码 $M^r_{Obj(i)}$ 则为原始掩码和深度掩码的并集：</p>
<script type="math/tex; mode=display">
M^r_{Obj(i)} = M^o_{Obj(i)} \cup M^d_{Obj(i)}
\tag{7}</script><p>对 $Obj(i)$ 对处理：</p>
<ul>
<li>如果 $Obj(i)$ 为 moving object，则需要移除被 $M^r_{Obj(i)}$ 覆盖的区域；</li>
<li>如果 $Obj(i)$ 为 static object，当构建语义点云图时，被 $M^d_{Obj(i)}$ 覆盖区域的语义信息需要被映射分配。</li>
</ul>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-4.png">
</center>

<p>Fig.4 表示了掩码的修正过程：</p>
<ul>
<li>输入（黄框）为两个人的原始掩码及对应的深度图，坐着的人标签为 $P(1)$，站着的人为 $P(2)$；</li>
<li>得到的同深度范围区域为 $M^s_{P(1)}$ 和 $M^s_{P(2)}$（蓝框），其中 $M^s_{P(1)}$ 包含多个图像块，通过 (6) 式去除多余图像块后，得到深度掩码 $M^d_{P(1)}$；</li>
<li>最后，深度掩码与原始掩码融合得到矫正掩码。</li>
</ul>
<h2 id="2-5-Judgement-of-Interaction-between-Moving-People-and-Movable-Object"><a href="#2-5-Judgement-of-Interaction-between-Moving-People-and-Movable-Object" class="headerlink" title="2.5  Judgement of Interaction between Moving People and Movable Object"></a>2.5  Judgement of Interaction between Moving People and Movable Object</h2><p>当人的矫正掩码和 movable object 的矫正掩码相交时，则：</p>
<script type="math/tex; mode=display">
\begin{cases}
\text{if}\ M^r_{P(i)} \cap M^r_{C_{Obj}(j)} \ne \empty, &C_{Obj}(j) \in D_{Obj} \\
\text{else}, &C_{Obj}(j) \in S_{Obj}
\end{cases}
\tag{8}</script><p>其中 $i = 1, …, n$ 表示图像中的人，$j=1,…,m$ 表示图像中的 movable objects。$D_{Obj}$ 表示 moving objects 集合，$S_{Obj}$ 为 static objects 集合。</p>
<p>人和 movable objects 的相交判断算法如下：</p>
<center>
    <img src="/papernote/Blitz-SLAM/Algorithm-2.png">
</center>

<p>Fig.5 表示了判断人和椅子是否相交：</p>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-5.png">
</center>

<ul>
<li>输入两个人和两把椅子的矫正掩码（红框），从左到右，两把椅子的标签为 $C(1)$ 和 $C(2)$，人的标签为 $P(1)$ 和 $P(2)$。经过判断，$P(1)$ 和 $C(1)$ 相交，则 $C(1)$ 变为 moving objects。</li>
</ul>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-6.png">
</center>

<ul>
<li>将被两个人和 $C(1)$ 的矫正掩码覆盖的区域的深度值设为 0，将 $C(2)$ 的语义信息映射到当前点云。如 Fig.6，moving objects 被有效去除，$C(2)$ 的语义信息也没有污染其他环境点。</li>
</ul>
<h2 id="2-6-Removal-of-the-Residual-Information-of-Moving-Objects"><a href="#2-6-Removal-of-the-Residual-Information-of-Moving-Objects" class="headerlink" title="2.6  Removal of the Residual Information of Moving Objects"></a>2.6  Removal of the Residual Information of Moving Objects</h2><p>移除矫正掩码覆盖的区域后，moving object 的部分边界信息可能会遗留在环境中。这些残留边界形成的噪声块长而窄，因此需要进行去除。如 Fig.7 为边界信息去除的流程，输入为 RGB 图像以及移除被矫正掩码覆盖区域后的深度图像，输出为无噪声块的深度图：</p>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-7.png">
</center>

<p>首先，从前一帧 $I_P$ 和当前帧 $I_C$ 的环境区域提取特征点。$I_P$ 和 $I_C$ 之间的单应矩阵（homography matrix）$H$ 可以通过 RANSAC 和 LM 算法计算得到。</p>
<p>假设 $p_P = [u_P, v_P, 1]^T$ 为点在 $I_P$ 的坐标，$p_C = [u_C, v_C, 1]^T$ 为点在 $I_C$ 的坐标，这些点为特征匹配点，而且可以得到 (9) 式（得到 $p_P$ 在 $I_C$ 的投影点）：</p>
<script type="math/tex; mode=display">
p_C = H p_P
\tag{9}</script><p>相邻帧上残留边界位置的深度值通常相差较大，因此，噪声块可以通过以下 (10) 式的判断去除：</p>
<script type="math/tex; mode=display">
\begin{cases}
\mathrm{if}\ |d_C(u_C, v_C) - d_P(u_P, v_P)| > \tau_4, &d_C(u_C, v_C) = 0 \\
\mathrm{else}, &d_C(u_C, v_C) = d_C(u_C, v_C)
\end{cases}
\tag{10}</script><p>其中 $d_P$ 和 $d_C$ 表示 $I_P$ 和 $I_C$ 对应的深度图，$\tau_4 = 5000(0.1\text{m})$ 为阈值。</p>
<p>最后，通过形态学操作（morphological operations）移除深度图像上少于 1000 个像素的图像块，确保 moving objects 被完全移除。moving objects 的残留信息移除算法如 Algorithm 3:</p>
<center>
    <img src="/papernote/Blitz-SLAM/Algorithm-3.png">
</center>

<p>Fig.8 则为一个点云去除噪声块前后的对比，噪声块被红色框标出：</p>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-8.png">
</center>

<p>每次有人移动 movable objects，这些物体的位置相较之前会发生更改，如果无法处理这种情况，这些物体产生的冗余信息就会体现在全局点云地图上。文中采取了只保留这些物体的最近信息。</p>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-9.png">
</center>

<p>Fig.9 展示了两把椅子在 4 个阶段的状态变化，两把椅子需要被保留的信息为绿框中的内容：</p>
<ul>
<li>初始阶段，椅子是 static object，信息被保留在全局地图中。</li>
<li>第二阶段，两个人进入图像并与椅子相交，椅子成为动态物体且不参与建图。此时，椅子在地图中的信息为第一个红框中的信息。</li>
<li>第三阶段，两个人离开图像，椅子变为静止，由于椅子的位置发生改变，第一阶段保留的椅子信息被删除，保留当前的信息。</li>
<li>最后阶段，两个人再次与椅子相交，则如第二阶段，信息不被保留，且地图中当前为第三阶段保留的椅子信息。</li>
</ul>
<h2 id="2-7-Location-of-the-Static-Matching-Points"><a href="#2-7-Location-of-the-Static-Matching-Points" class="headerlink" title="2.7  Location of the Static Matching Points"></a>2.7  Location of the Static Matching Points</h2><p>在获得前一帧 $I_P$ 和当前帧 $I_C$ 的两个静态匹配点集 $P_P = \{ p_{P1}, p_{P2}, …, p_{Pn} \}$ 和 $P_C = \{ p_{C1}, p_{C2}, …, p_{Cn} \}$，从 $I_P$ 到 $I_C$ 的相机位姿可以通过求解一下最小二乘得到：</p>
<script type="math/tex; mode=display">
\min_{R,t} \sum_{i=1}^n \left\| p_{Pi} - (R p_{Ci} + t) \right\|^2
\tag{11}</script><p>2.6 部分仅提取了静态区域的特征点，然而提取方法中部分区域被视为潜在动态区域（$R(BBX_P)$ 和 $R(BBX_C)$），没有被提取到特征。因此，此部分则讨论如何提取潜在动态区域的特征点。</p>
<p>首先，从 $I_P$ 和 $I_C$ 的环境区域提取匹配特征点，通过 RANSAC 算法求得两帧图像之间的基础矩阵（fundamental matrix）$F$。</p>
<p>然后，在 $I_P$ 和 $I_C$ 的潜在动态区域提取匹配点集 $P_{DP} = \{ p_{DP} | p_{DP} = [u_{DP}, v_{DP}, 1] \}$ 和 $P_{DC} = \{ p_{DC} | p_{DC} = [u_{DC}, v_{DC}, 1] \}$。</p>
<p>之后，通过极线计算潜在动态匹配点之间的距离：</p>
<script type="math/tex; mode=display">
d = \frac{\left| p_{DC} F p_{DP}^T \right|}{\sqrt{l_x^2 + l_y^2}}
\tag{12}</script><p>其中，$l_x$ 和 $l_y$ 的值为：</p>
<script type="math/tex; mode=display">
[l_x, l_y, l_z]^T = F p_{DP}^T
\tag{13}</script><p>潜在动态区域的匹配点的第 $i$ 个特征点的状态，可以通过 (14) 式判断匹配点之间的距离获取：</p>
<script type="math/tex; mode=display">
\begin{cases}
\text{if}\ d_i > \tau_5, &i \in D \\
\text{else}, &i \in S
\end{cases}
\tag{14}</script><p>其中 $D$ 表示动态匹配点集，$S$ 表示静态匹配点集，$\tau_5 = 0.5$。静态匹配点的定位算法如下：</p>
<center>
    <img src="/papernote/Blitz-SLAM/Algorithm-4.png">
</center>



<h1 id="3-Experimental-Results"><a href="#3-Experimental-Results" class="headerlink" title="3  Experimental Results"></a>3  Experimental Results</h1><p>Baseline：ORB-SLAM2，Dyna-SLAM，DS-SLAM</p>
<p>Dataset：TUM RGB-D</p>
<p>相机的运动四种状态模式：</p>
<ul>
<li>halfsphere：相机沿着半球体的轨迹移动；</li>
<li>rpy：相机绕固定轴旋转；</li>
<li>static：相机固定在某个位置；</li>
<li>xyz：相机沿着 x，y，z 轴移动。</li>
</ul>
<p>八个图像数据序列：fr3/w/half，fr3/w/rpy，fr3/w/static，fr3/w/xyz，fr3/s/half，fr3/s/xyz，fr2/desk/p，fr2/xyz。其中 fr、s、w、p 表示 Freiburg（弗莱堡，德国地名）、sitting、walking、person，desk 序列为行走的人手持相机拍摄的数据。</p>
<h2 id="3-1-Evaluation-of-Camera-Localization"><a href="#3-1-Evaluation-of-Camera-Localization" class="headerlink" title="3.1  Evaluation of Camera Localization"></a>3.1  Evaluation of Camera Localization</h2><ul>
<li>定量测量：绝对轨迹误差（ATE）、相对位姿误差（RPE）。</li>
</ul>
<p>设 $P_1, …, P_n \in SE(3)$ 表示估计的相机位姿，$Q_1, …, Q_n \in SE(3)$ 表示 GT。全局轨迹连续性的 ATE，或时间步 $i$ 时的 ATE $F_i$ 可以通过 (15) 计算：</p>
<script type="math/tex; mode=display">
F_i = Q_i^{-1} S P_i
\tag{15}</script><p>其中 $S$ 表示将估计轨迹与实际轨迹对齐的刚体变换。</p>
<p>RPE 测量了固定时间 $\Delta$ 下的局部轨迹精度，时间步 $i$ 的 RPE $E_i$ 可以通过 (16) 式计算：</p>
<script type="math/tex; mode=display">
E_i = (Q_i^{-1} Q_{i+\Delta})^{-1} (P_i^{-1} P_{i+\Delta})
\tag{16}</script><ul>
<li>定量分析：RMSE（Root Mean Square Error）和 S.D.（Standard Deviation）。RMSE 测量观测值和真值的误差，S.D. 测量群体相对整体的偏差。</li>
</ul>
<p>如 Table-1 至 Table-3 为定量分析结果，表中 improvements 的计算为：</p>
<script type="math/tex; mode=display">
\kappa = (1 - \frac{\beta}{\alpha}) \times 100 \%
\tag{17}</script><p>其中 $\alpha$ 为 ORB-SLAM2 的测量结果，$\beta$ 为 Blitz-SLAM 的测量结果。</p>
<center>
    <img src="/papernote/Blitz-SLAM/Table-1.png">
</center>

<center>
    <img src="/papernote/Blitz-SLAM/Table-2.png">
</center>

<center>
    <img src="/papernote/Blitz-SLAM/Table-3.png">
</center>

<ul>
<li>在高动态环境下能实现明显优于 ORB-SLAM2 的结果；</li>
<li>在低动态环境下取得的效果相比 ORB-SLAM2 基本无明显下降。</li>
</ul>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-10.png">
</center>

<center>
    <img src="/papernote/Blitz-SLAM/Table-4.png">
</center>



<h2 id="3-2-Evaluation-of-the-Point-Cloud-Map"><a href="#3-2-Evaluation-of-the-Point-Cloud-Map" class="headerlink" title="3.2  Evaluation of the Point Cloud Map"></a>3.2  Evaluation of the Point Cloud Map</h2><ul>
<li>Fig.11 为 moving objects 移除的效果（第二行和第三行为原始掩码和矫正掩码）：</li>
</ul>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-11.png">
</center>

<ul>
<li>Fig.12、Fig.13 和 Fig.14 分别为高动态、低动态环境和静态环境下的建图结果：</li>
</ul>
<center>
    <img src="/papernote/Blitz-SLAM/Figure-12.png">
</center>

<center>
    <img src="/papernote/Blitz-SLAM/Figure-13.png">
</center>

<center>
    <img src="/papernote/Blitz-SLAM/Figure-14.png">
</center>



<h2 id="3-3-Evaluation-of-Processing-Time"><a href="#3-3-Evaluation-of-Processing-Time" class="headerlink" title="3.3  Evaluation of Processing Time"></a>3.3  Evaluation of Processing Time</h2><center>
    <img src="/papernote/Blitz-SLAM/Table-5.png">
</center>



<h2 id="3-4-Evaluation-in-the-Real-World-Environment"><a href="#3-4-Evaluation-in-the-Real-World-Environment" class="headerlink" title="3.4  Evaluation in the Real-World Environment"></a>3.4  Evaluation in the Real-World Environment</h2><center>
    <img src="/papernote/Blitz-SLAM/Figure-15.png">
</center>

<center>
    <img src="/papernote/Blitz-SLAM/Figure-16.png">
</center>



<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li>[1] N. Dvornik, K. Shmelkov, J. Mairal, C. Schmid, Blitznet: A real-time deep network for scene understanding, in: Proceedings of the IEEE international con- ference on computer vision, 2017, pp. 4154–4162.</li>
<li>[2] M. Runz, M. Buffier, L. Agapito, Maskfusion: Real-time recognition, tracking and reconstruction of multiple moving objects, in: 2018 IEEE International Symposium on Mixed and Augmented Reality (ISMAR), IEEE, 2018, pp. 10–20.</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Semantic-SLAM/" rel="tag"># Semantic SLAM</a>
              <a href="/tags/Paper-Note/" rel="tag"># Paper Note</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/collection/Awesome%20Semantic%20SLAM/" rel="prev" title="Awesome Semantic SLAM">
                  <i class="fa fa-chevron-left"></i> Awesome Semantic SLAM
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/summary/FPN/" rel="next" title="FPN">
                  FPN <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="waline"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Star Rain</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://lib.baomitu.com/canvas-nest.js/1.0.1/canvas-nest.js"></script>



    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.2.7/pdfobject.min.js","integrity":"sha256-ph3Dk89VmuTVXG6x/RDzk53SU9LPdAh1tpv0UvnDZ2I="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>




  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"cdn":"//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML","tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="waline" type="application/json">{"lang":"en","enable":true,"serverURL":"https://waline.vercel.app","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"libUrl":"https://unpkg.com/@waline/client@v2/dist/waline.js","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo","https://unpkg.com/@waline/emojis@1.0.1/alus","https://unpkg.com/@waline/emojis@1.0.1/bilibili","https://unpkg.com/@waline/emojis@1.0.1/qq","https://unpkg.com/@waline/emojis@1.0.1/tieba","https://unpkg.com/@waline/emojis@1.0.1/tw-emoji"],"meta":["nick","mail"],"requiredMeta":["nick"],"pageSize":10,"el":"#waline","comment":true,"path":"/papernote/Blitz-SLAM/"}</script>
<link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css">
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script>

</body>
</html>
